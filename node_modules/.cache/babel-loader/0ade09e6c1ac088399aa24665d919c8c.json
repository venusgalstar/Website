{"ast":null,"code":"import _regeneratorRuntime from\"D:/Work/Upwork/Luke,Eric,AvalancheDefi/Milestone3/Fire/Phoenix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Work/Upwork/Luke,Eric,AvalancheDefi/Milestone3/Fire/Phoenix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/Work/Upwork/Luke,Eric,AvalancheDefi/Milestone3/Fire/Phoenix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Work/Upwork/Luke,Eric,AvalancheDefi/Milestone3/Fire/Phoenix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/Work/Upwork/Luke,Eric,AvalancheDefi/Milestone3/Fire/Phoenix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/Work/Upwork/Luke,Eric,AvalancheDefi/Milestone3/Fire/Phoenix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Work/Upwork/Luke,Eric,AvalancheDefi/Milestone3/Fire/Phoenix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{create}from'ipfs-http-client';import Web3 from\"web3\";import config from\"../../contract/config\";import{connect}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var client=create('https://ipfs.infura.io:5001/api/v0');var Content=/*#__PURE__*/function(_React$Component){_inherits(Content,_React$Component);var _super=_createSuper(Content);function Content(props){var _this;_classCallCheck(this,Content);_this=_super.call(this,props);_this.onSelectFile=_this.onSelectFile.bind(_assertThisInitialized(_this));_this.state={master_url:\"../img/empty_img1.png\",grand_url:\"../img/empty_img1.png\"};_this.connectWeb3=_this.connectWeb3.bind(_assertThisInitialized(_this));_this.setContractStatus=_this.setContractStatus.bind(_assertThisInitialized(_this));return _this;}_createClass(Content,[{key:\"onSelectFile\",value:function(){var _onSelectFile=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event,type){var file,added,url,tokenObject,cid,tokenURI,temp_url;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:file=event.target.files[0];_context.prev=1;_context.next=4;return client.add(file);case 4:added=_context.sent;url=\"https://ipfs.infura.io/ipfs/\".concat(added.path);console.log(\"url\",url);tokenObject={tokenName:\"Fire NFT\",tokenSymbol:\"Fire\",metaData:{type:type,hash:url}};_context.next=10;return client.add(JSON.stringify(tokenObject));case 10:cid=_context.sent;tokenURI=\"https://ipfs.infura.io/ipfs/\".concat(cid.path);this.props.dispatch({action:\"SET_NFT_URL\",payload:{type:type,url:cid.path}});temp_url={};temp_url[type+\"_url\"]=url;this.setState(temp_url);_context.next=21;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](1);console.log('Error uploading file: ',_context.t0);case 21:case\"end\":return _context.stop();}}},_callee,this,[[1,18]]);}));function onSelectFile(_x,_x2){return _onSelectFile.apply(this,arguments);}return onSelectFile;}()},{key:\"connectWeb3\",value:function connectWeb3(){var provider=Web3.providers.HttpProvider(config.testNetUrl);var web3=new Web3(Web3.givenProvider||provider);var contract=new web3.eth.Contract(config.nftContractAbi.abi,config.nftContractAddress);contract.methods.mintNFT(0).send({from:\"0x8695CAfcaAA4F8C6Ce1ea23a45c628C7D3FBFb07\"}).then(console.log);}},{key:\"setContractStatus\",value:function setContractStatus(param){console.log(param);this.props.dispatch({type:\"SET_CONTRACT_STATUS\",payload:{param:param}});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{id:\"section-started\",className:\"c-w flex flex-col align-center\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Setting FIRE NFT ART\"}),/*#__PURE__*/_jsx(\"span\",{className:\"subtitle\",\"data-nsfw-filter-status\":\"swf\",children:\" Only owners can change and update NFT arts.\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"started-content\",className:\"flex mx-auto m-t-40\",style:{justifyContent:\"space-around\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-action shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"badge-title text-purple\",style:{marginTop:\"10px\"},children:\"Master\"}),/*#__PURE__*/_jsx(\"img\",{alt:\"\",style:{height:\"250px\",width:\"250px\",marginTop:\"20px\",marginBottom:\"20px\"},src:this.state.master_url}),/*#__PURE__*/_jsxs(\"a\",{className:\"breath border-purple\",\"data-nsfw-filter-status\":\"swf\",style:{position:\"relative\"},children:[\"Create & Change\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",style:{position:\"absolute\",top:\"0px\",left:\"0px\",width:\"100%\",height:\"100%\",opacity:\"0\"},onChange:function onChange(event){return _this2.onSelectFile(event,\"master\");}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-action shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"badge-title text-pink\",style:{marginTop:\"10px\"},children:\"Grand\"}),/*#__PURE__*/_jsx(\"img\",{alt:\"\",style:{height:\"250px\",width:\"250px\",marginTop:\"20px\",marginBottom:\"20px\"},src:this.state.grand_url}),/*#__PURE__*/_jsxs(\"a\",{className:\"breath border-pink\",\"data-nsfw-filter-status\":\"swf\",style:{position:\"relative\"},children:[\"Create & Change\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",style:{position:\"absolute\",top:\"0px\",left:\"0px\",width:\"100%\",height:\"100%\",opacity:\"0\"},onChange:function onChange(event){return _this2.onSelectFile(event,\"grand\");}})]})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{id:\"section-start-stop-service\",style:{display:\"flex\",justifyContent:\"center\"},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn action-btn outline m-r-20\",onClick:this.setContractStatus.bind(this,1),children:\"Start Service\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn action-btn\",onClick:this.setContractStatus.bind(this,0),children:\"Stop Service\"})]})]});}}]);return Content;}(React.Component);var mapStateToProps=function mapStateToProps(state){return state;};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{dispatch:dispatch};};export default connect(mapStateToProps,mapDispatchToProps)(Content);","map":{"version":3,"sources":["D:/Work/Upwork/Luke,Eric,AvalancheDefi/Milestone3/Fire/Phoenix/src/components/admin/content.js"],"names":["React","create","Web3","config","connect","client","Content","props","onSelectFile","bind","state","master_url","grand_url","connectWeb3","setContractStatus","event","type","file","target","files","add","added","url","path","console","log","tokenObject","tokenName","tokenSymbol","metaData","hash","JSON","stringify","cid","tokenURI","dispatch","action","payload","temp_url","setState","provider","providers","HttpProvider","testNetUrl","web3","givenProvider","contract","eth","Contract","nftContractAbi","abi","nftContractAddress","methods","mintNFT","send","from","then","param","justifyContent","marginTop","height","width","marginBottom","position","top","left","opacity","display","Component","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { create } from 'ipfs-http-client'\r\nimport Web3 from \"web3\"; \r\nimport config from \"../../contract/config\";\r\nimport {connect} from 'react-redux';\r\n\r\n\r\nconst client = create('https://ipfs.infura.io:5001/api/v0');\r\n\r\nclass Content extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onSelectFile = this.onSelectFile.bind(this);\r\n        this.state = {\r\n            master_url:\"../img/empty_img1.png\",\r\n            grand_url:\"../img/empty_img1.png\"\r\n        }\r\n        this.connectWeb3 = this.connectWeb3.bind(this);\r\n        this.setContractStatus = this.setContractStatus.bind(this);\r\n    }\r\n\r\n   async onSelectFile(event, type) {\r\n        const file = event.target.files[0]\r\n        try {\r\n            const added = await client.add(file)\r\n            const url = `https://ipfs.infura.io/ipfs/${added.path}`\r\n            \r\n            console.log(\"url\", url);\r\n            const tokenObject = {\r\n                tokenName: \"Fire NFT\",\r\n                tokenSymbol: \"Fire\",\r\n                metaData: {\r\n                    type: type,\r\n                    hash: url,\r\n                },\r\n            };\r\n\r\n            const cid = await client.add(JSON.stringify(tokenObject));\r\n            let tokenURI = `https://ipfs.infura.io/ipfs/${cid.path}`;\r\n\r\n            this.props.dispatch({\r\n                action:\"SET_NFT_URL\",\r\n                payload: {\r\n                    type:type,\r\n                    url: cid.path\r\n                }\r\n            })\r\n\r\n            let temp_url = {};\r\n            temp_url[type + \"_url\"] = url;\r\n            this.setState(temp_url);\r\n\r\n        } catch (error) {\r\n            console.log('Error uploading file: ', error)\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    connectWeb3() {\r\n\r\n        const provider = Web3.providers.HttpProvider(config.testNetUrl);\r\n        const web3 = new Web3(Web3.givenProvider || provider);\r\n\r\n        const contract = new web3.eth.Contract(config.nftContractAbi.abi, config.nftContractAddress);\r\n\r\n        contract.methods.mintNFT(0).send({from:\"0x8695CAfcaAA4F8C6Ce1ea23a45c628C7D3FBFb07\"})\r\n        .then(console.log);\r\n \r\n    }\r\n\r\n    setContractStatus(param) {\r\n        console.log(param);\r\n        this.props.dispatch({\r\n            type:\"SET_CONTRACT_STATUS\",\r\n            payload: {param: param}\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <section id=\"section-started\" className=\"c-w flex flex-col align-center\">\r\n                    <h2>Setting FIRE NFT ART</h2>\r\n                    <span className=\"subtitle\" data-nsfw-filter-status=\"swf\"> Only owners can change and update NFT arts.</span>\r\n\r\n                    <div id=\"started-content\" className=\"flex mx-auto m-t-40\" style={{ justifyContent: \"space-around\" }}>\r\n                        <div className=\"card-action shadow\">\r\n                            <div className=\"badge-title text-purple\" style={{ marginTop: \"10px\" }}>Master</div>\r\n                            <img alt=\"\" style={{ height: \"250px\", width: \"250px\", marginTop: \"20px\", marginBottom: \"20px\" }} src={this.state.master_url}></img>\r\n                            <a className=\"breath border-purple\" data-nsfw-filter-status=\"swf\" style={{ position: \"relative\" }}>\r\n                                Create & Change\r\n                                <input type=\"file\" style={{ position: \"absolute\", top: \"0px\", left: \"0px\", width: \"100%\", height: \"100%\", opacity: \"0\" }} onChange={(event) => this.onSelectFile(event, \"master\")} />\r\n                            </a>\r\n                        </div>\r\n                        <div className=\"card-action shadow\">\r\n                            <div className=\"badge-title text-pink\" style={{ marginTop: \"10px\" }}>Grand</div>\r\n                            <img alt=\"\" style={{ height: \"250px\", width: \"250px\", marginTop: \"20px\", marginBottom: \"20px\" }} src={this.state.grand_url}></img>\r\n                            <a className=\"breath border-pink\" data-nsfw-filter-status=\"swf\" style={{ position: \"relative\" }}>\r\n                                Create & Change\r\n                                <input type=\"file\" style={{ position: \"absolute\", top: \"0px\", left: \"0px\", width: \"100%\", height: \"100%\", opacity: \"0\" }} onChange={(event) => this.onSelectFile(event, \"grand\")} />\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <section id=\"section-start-stop-service\" style={{display:\"flex\", justifyContent:\"center\"}}>\r\n                    <button className=\"btn action-btn outline m-r-20\" onClick={this.setContractStatus.bind(this, 1)}>Start Service</button>\r\n                    <button className=\"btn action-btn\"  onClick={this.setContractStatus.bind(this, 0)}>Stop Service</button>\r\n                </section>\r\n            </>\r\n\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return state;\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return { dispatch }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Content);"]},"metadata":{},"sourceType":"module"}